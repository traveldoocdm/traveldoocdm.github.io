var $=jQuery.noConflict();function getParameter(t){var e={};return window.location.href.replace(location.hash,"").replace(/[?&]+([^=&]+)=?([^&]*)?/gi,function(t,i,c){e[i]=void 0!==c?c:""}),t?e[t]?e[t]:null:e}function resizeContent(){var t=parseInt($(window).height()-375);$(".scorecast_widget").css("max-height",t+"px")}function copyTheSecondTable(){var t="",e="";$(".scorecast_widget").each(function(i){i>0&&($(this).children("table").children("thead").remove(),$(this).children("table").children("tbody").children("tr").each(function(){$(this).children("td").each(function(){$(this).hasClass("user")&&(e=$(this).children("a").children("span").text().toLowerCase())}),"NONAME"!=e.toUpperCase()&&(t+="<tr>"+$(this).html()+"</tr>")}))}),$(".scorecast_widget").first().children("table").children("tbody").append(t),$(".scorecast_widget").last().remove()}function upDateTheScore(){var t=!1;$.now()>new Date("Jul 10, 2018 21:00:00").getTime()&&(t=!0),$(".scorecast_widget").each(function(){$(this).children("table").children("tbody").children("tr").each(function(){var e,i=0;$(this).children("td").each(function(){$(this).hasClass("user")&&(e=$(this).children("a").children("span").text().toLowerCase()),$(this).hasClass("total")&&(i=parseInt($(this).text()),"gorsel"!=e&&"pierluigi collina"!=e||t&&(i=(i=-i).toString(),$(this).html(i)))})})})}function sortTheTable(){$(".scorecast_widget").each(function(){$(this).children("table").tablesorter({sortList:[[2,1],[1,0]]})})}function extractTheLeader(){var t="";$(".scorecast_widget").each(function(){$(this).children("table").children("tbody").children("tr").each(function(e){e<3&&(t+="<tr>"+$(this).html()+"</tr>",$(this).remove())})}),$(".scorecast_leader").html("<table>"+t+"</table>")}function extractTheLooser(){var t="";$(".scorecast_widget").each(function(){var e=$(this).children("table").children("tbody").children("tr").size();$(this).children("table").children("tbody").children("tr").each(function(i){i>e-4&&(t+="<tr>"+$(this).html()+"</tr>",$(this).remove())})}),$(".scorecast_looser").html("<table>"+t+"</table>")}function showRanking(){var t,e,i,c=0;$(".scorecast_leader").each(function(){$(this).children("table").children("tbody").children("tr").each(function(r){$(this).children("td").each(function(){$(this).hasClass("center")&&(i=$(this)),$(this).hasClass("total")&&(e=$(this).html(),c++)}),e!=t?i.html(c):i.html("-"),t=e})}),$(".scorecast_widget").each(function(){$(this).children("table").children("tbody").children("tr").each(function(){$(this).children("td").each(function(){$(this).hasClass("center")&&(i=$(this)),$(this).hasClass("total")&&(e=$(this).html(),c++)}),e!=t?i.html(c):i.html("-"),t=e})}),$(".scorecast_looser").each(function(){$(this).children("table").children("tbody").children("tr").each(function(r){$(this).children("td").each(function(){$(this).hasClass("center")&&(i=$(this)),$(this).hasClass("total")&&(e=$(this).html(),c++)}),e!=t?i.html(c):i.html("-"),t=e})});var r=parseInt($(window).height()-360);$(".scorecast_widget").css("max-height",r+"px")}function favicon(){$("head").children('link[rel="shortcut icon"]').attr("href","./favicon.ico"),$("body").addClass("displayedScore")}function splitTableScore(){var t="",e="";$(".scorecast_widget").each(function(){var i=$(this).children("table").children("tbody").children("tr").size();$(this).children("table").children("tbody").children("tr").each(function(c){c<7&&(t+="<tr>"+$(this).html()+"</tr>",$(this).remove()),c>i-8&&(e+="<tr>"+$(this).html()+"</tr>",$(this).remove())})}),$(".dv_left").children(".scorecast_content").html("<table>"+t+"</table>"),$(".dv_right").children(".scorecast_content").html("<table>"+e+"</table>");var i=parseInt($(window).height()-150);$(".scorecast_widget").css("max-height",i+"px")}$(document).ready(function(){$("#boxscroll").niceScroll({cursorborder:"",cursorcolor:"#000000",cursorborderradius:"15px",cursoropacitymax:.75}),$(window).bind("load",function(){resizeContent(),copyTheSecondTable(),upDateTheScore(),sortTheTable(),extractTheLeader(),extractTheLooser(),showRanking(),$("body").hasClass("smartphone")||$("body").hasClass("tablette")&&$("body").hasClass("portrait")||getParameter("spl")&&($("body").addClass("split"),splitTableScore()),favicon()}),$(window).on("resize",function(){resizeContent()})});
