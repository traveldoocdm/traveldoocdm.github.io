var $=jQuery.noConflict();function resizeContent(){var sizeofContent=parseInt($(window).height()-375);$(".scorecast_widget").css("max-height",sizeofContent+"px")}function copyTheSecondTable(){var htmlCode="";var labelUser="";$(".scorecast_widget").each(function(i){if(i>0){$(this).children("table").children("thead").remove();$(this).children("table").children("tbody").children("tr").each(function(){$(this).children("td").each(function(){if($(this).hasClass("user")){labelUser=$(this).children("a").children("span").text().toLowerCase()}});if(labelUser.toUpperCase()!="NONAME"){htmlCode+="<tr>"+$(this).html()+"</tr>"}})}});if(labelUser.toUpperCase()!="NONAME"){$(".scorecast_widget").first().children("table").children("tbody").append(htmlCode)}$(".scorecast_widget").last().remove()}function updateTheScore(){$(".scorecast_widget").each(function(){$(this).children("table").children("tbody").children("tr").each(function(){var labelUser;var scoreGame=0;$(this).children("td").each(function(){if($(this).hasClass("user")){labelUser=$(this).children("a").children("span").text().toLowerCase()}if($(this).hasClass("total")){scoreGame=parseInt($(this).text());if(labelUser=="gorsel"||labelUser=="pierluigi collina"){scoreGame+=14;scoreGame=scoreGame.toString();$(this).html(scoreGame)}}})})})}function sortTheTable(){$(".scorecast_widget").each(function(){$(this).children("table").tablesorter({sortList:[[2,1],[1,0]]})})}function extractTheLeader(){var htmlCode="";$(".scorecast_widget").each(function(){$(this).children("table").children("tbody").children("tr").each(function(i){if(i<3){$(this).addClass("hidden");htmlCode+="<tr>"+$(this).html()+"</tr>"}})});$(".scorecast_leader").html("<table>"+htmlCode+"</table>")}function extractTheLooser(){var htmlCode="";$(".scorecast_widget").each(function(){var tableSize=$(this).children("table").children("tbody").children("tr").size();$(this).children("table").children("tbody").children("tr").each(function(i){if(i>tableSize-4){$(this).addClass("hidden");htmlCode+="<tr>"+$(this).html()+"</tr>"}})});$(".scorecast_looser").html("<table>"+htmlCode+"</table>")}function showRanking(){var numRank=0;$(".scorecast_leader").each(function(){$(this).children("table").children("tbody").children("tr").each(function(i){$(this).children("td").each(function(){if($(this).hasClass("center")){$(this).html(i+1)}});numRank=i})});numRank-=1;$(".scorecast_widget").each(function(){$(this).children("table").children("tbody").children("tr").each(function(){if(!$(this).hasClass("hiddenCheat")){$(this).children("td").each(function(){if($(this).hasClass("center")){$(this).html(numRank);numRank++}})}})});numRank-=3;$(".scorecast_looser").each(function(){$(this).children("table").children("tbody").children("tr").each(function(i){$(this).children("td").each(function(){if($(this).hasClass("center")){$(this).html(i+numRank)}})})});var sizeofContent=parseInt($(window).height()-360);$(".scorecast_widget").css("max-height",sizeofContent+"px")}$(document).ready(function(){$("#boxscroll").niceScroll({cursorborder:"",cursorcolor:"#000000",cursorborderradius:"15px",cursoropacitymax:.75});$(window).bind("load",function(){resizeContent();copyTheSecondTable();sortTheTable();extractTheLeader();extractTheLooser();showRanking()});$(window).on("resize",function(){resizeContent()})});